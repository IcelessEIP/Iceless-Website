"use strict";const languageLinks=document.querySelectorAll("a.language"),languageNames=["enEnglish","frFranÃ§ais"],bootAnimation=document.getElementById("boot"),overlay=document.getElementById("overlay"),sendButton=document.getElementById("sendform"),formSent=document.getElementById("formsent"),report=document.getElementById("report");var lang=2===window.location.href.split("/").pop().length?window.location.href.split("/").pop():"en";function changeLanguage(_lang){fetch("lang/lang-"+_lang+".json").then(response=>response.json()).then(data=>{document.querySelectorAll("[data-translate]").forEach(el=>{const key=el.getAttribute("data-translate"),translationText=data.text[key],translationAlt=data.alt[key];var isTextReplaced=!1;el.childNodes.forEach(node=>{node.nodeType===Node.TEXT_NODE&&!isTextReplaced&&translationText&&(node.textContent=translationText,isTextReplaced=!0)}),translationAlt&&(el.alt=translationAlt)}),document.documentElement.lang=_lang,document.title="Iceless | "+data.text.title})}function main(){console.log("JS started"),bootAnimation.play()}languageLinks.forEach(function(elem){elem.addEventListener("click",function(e){e.preventDefault(),elem.innerHTML=languageNames.find(item=>item.startsWith(lang)).slice(2);var oldLang=lang;"en"===(lang=e.target.href.split("/").pop()||"en")?window.history.pushState("","","/"):window.history.pushState("","",e.target.href),elem.href="en"===oldLang?"/":oldLang,changeLanguage(lang)})}),bootAnimation.addEventListener("complete",()=>{overlay.style.opacity="0",overlay.style.pointerEvents="none",document.documentElement.style.overflowY="auto"}),sendButton&&window.addEventListener("submit",function(){report.style.display="none",formsent.style.display="block"}),main();